<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
  
      <div class="container">
        <div class="text">ADD INTERVIEW EXPERIENCE</div>
        <form id="demo2">
  
          <div class="data">
            <label for="name">Name</label>
            <input type="text" name="name" required>
          </div>
          
          <div class="data">
            <label for="branch">Branch</label>
            <input type="text" name="branch" required>
          </div>

          <div class="data">
            <label for="year">Year</label>
            <input type="text" name="year" required>
          </div>

          <div class="data">
            <label for="question">Company : </label>
            <option>  </option>
            <select name="company" id="myList">
                <% rest2.forEach((company) => { %>
                    <option>  <%= company.name %> </option> 
                <% }) %>
  
            </select>
          </div>
  
          <div class="data">
            <label for="link">Experience</label>
            <input type="text" name="experience" required>
          </div>
  
          
          <button>SUBMIT</button>
        </form>
      </div>
    </div>
  </div>
  
  <script>
    // Get the modal
    var modal = document.getElementById("myModal");
    
    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");
    
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    
    // When the user clicks the button, open the modal 
    btn.onclick = function() {
      modal.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    </script> 
<script>
    const form2 = document.getElementById("demo2");
    form2.addEventListener('submit', async (e)=>{
        e.preventDefault();
        
        //get the values
        const name = form2.name.value;
        const branch = form2.branch.value;
        const year = form2.year.value;
        const company = form2.company.value;
        const experience = form2.experience.value;

        try{
            const res = await fetch('/adde',{
                method: 'POST',
                body:JSON.stringify({name,branch,year,company,experience}),
                headers:{'Content-Type':'application/json'}
            });
            location.assign('/company');
            
        }catch(err){
            console.log(err);
        }
    });
</script>